{% assign pageBundleNamespace = page.metafields.neat_bundles_app %}


{% comment %} Checking if page is a bundle page to begin with {% endcomment %}
{% if pageBundleNamespace %}
  {% if pageBundleNamespace.bundle_id_page %}
    {% comment %} Rendering a widget  {% endcomment %}
      {% render 'widget'
        , bundleId: pageBundleNamespace.bundle_id_page.value %}
  {% endif %}
{% endif %}


{% schema %}
  {
    "name": "Bundle widget",
    "target": "section",
    "settings": [
      {
        "label": "Colour",
        "id": "colour",
        "type": "color",
        "default": "#000000"
      },
      {
        "label": "Size",
        "id": "size",
        "type": "range",
        "min": 1,
        "max": 100,
        "step": 1,
        "default": 50
      }
  
    ]
  }
{% endschema %}


 {% comment %} {
  "type": "number",
  "id": "bundleId",
  "label": "Enter Bundle ID",
  "placeholder": "e.g. 204",
  "info": "You can find the Bundle ID in the Neat Bundles app, next to the name of each bundle."
}  {% endcomment %}